<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Start - Elfland Glider</title>
    <meta name="description" content="Introduction to Elfland Glider">
    <meta name="viewport" content="width=320, initial-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Niconne" rel="stylesheet">
    <style>
      html {
        font: 1.5rem Niconne, "Goudy Old Style", Papyrus, serif;
        background-image: url("cloud-background.png");
        background-position: bottom right;
        background-color: #eeeeee;
      }
      .subtitle {
        font-size: 1rem;
      }
      .wrapper {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      }
      .wrapper > * {
        padding: 1em;
      }
    </style>
  </head>
  <body>
    <h1 style="text-align:center;">Elfland Glider<br><span class="subtitle">A tranquil action puzzle game for VR&nbsp;and&nbsp;mobile</span></h1>
    <div class="wrapper">
      <div id="overview">
        <p>
        Fly through fantastic worlds,
        help the merry and mischievous light elves,
        and avoid the surly and mischievous dark elves.
        </p>
      </div>
      <table id="vrControls">
        <tr><td><b>Tilt</b> your head left to turn your glider left</td><td><img src="assets/head-tilt-left.png"></td></tr>
        <tr><td><b>Tilt</b> your head right to turn your glider right</td><td><img src="assets/head-tilt-right.png"></td></tr>
        <tr><td><b>Turn</b> your head left or right to look around without turning glider</td></tr>
        <tr><td><b>Tilt</b> your head up to climb (and <b>slow down</b>)</td></tr>
        <tr><td><b>Tilt</b> your head down to descend (and <b>speed up</b>)</td></tr>
        <tr><td><b>Press</b> a controller button (or tap the screen) to launch</td></tr>
      </table>
      <div style="text-align:center;">
        <a href="arches/index.html"><span style="font-size: xx-large"> Fly! </span></a>
        <p>(On world pages, tap goggle button to enter VR mode)</p>
      </div>
      <div style="font-family:serif; font-size:smaller;">
        <p>Uses <a href="https://webvr.info/">WebVR</a> and <a href="https://aframe.io"><nobr>A-Frame</nobr></a>.</p>
        <p>Copyright © 2017-2018 by Doug Reeder; Licensed under the GNU GPL-3.0</p>
      </div>
    </div>
    <!-- When there's actually something for the user to configure or select, before starting, he/she will do it
    on this page -->
    <script src="https://rawgit.com/aframevr/aframe/6019885/dist/aframe-master.min.js"></script>
    <script>
        console.log("checkHeadsetConnected:", AFRAME.utils.device.checkHeadsetConnected());
        console.log("isMobile:", AFRAME.utils.device.isMobile());
        console.log("hasNativeWebVRImplementation:", window.hasNativeWebVRImplementation);
        if (! AFRAME.utils.device.checkHeadsetConnected() && ! AFRAME.utils.device.isMobile()) {
            var wrapper = document.querySelector('.wrapper');

            var vrControls = document.getElementById('vrControls');

            var keyboardControls = document.createElement('div');
            keyboardControls.innerHTML =
                '<p>Elfland Glider is designed for VR or mobile, but if you want to try it here:</p>' +
                '<table style="width:100%">' +
                '<tr><td>A or left-arrow</td><td>turn glider left</td></tr>' +
                '<tr><td>D or right-arrow</td><td>turn glider right</td></tr>' +
                '<tr><td>W, up-arrow or drag up</td><td>climb (and <i>slow down</i>)</td></tr>' +
                '<tr><td>S, down-arrow or drag down</td><td>descend (and <i>speed up</i>)</td></tr>' +
                '<tr><td>space bar</td><td>launch</td></tr>' +
                '<tr><td>drag left or right</td><td>look around without turning glider</td></tr>' +
                '</table>';

            wrapper.replaceChild(keyboardControls, vrControls);
        }

        if (! window.hasNativeWebVRImplementation) {
            var overview = document.getElementById('overview');
            overview.insertAdjacentHTML('afterend', '<div><p>This browser lacks native WebVR, so don\'t complain about performance.</p></div>')
        }
    </script>
  </body>
</html>
<!-- Copyright © 2017-2018 by Doug Reeder; Licensed under the GNU GPL-3.0 -->
